<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>canvas</title>
  </head>
  <style>
    #canvas {
      width: 500px;
      height: 500px;
      margin: 200px auto;
      display: block;
      border: 1px solid;
    }
  </style>
  <body>
    <canvas id="canvas" width="300" height="300"></canvas>
    <!-- 注意: 用width和height属性为<canvas>明确规定宽高，而不是使用CSS。 -->
  </body>
</html>
<script>
  var sun = new Image();
  var moon = new Image();
  var earth = new Image();
  function init() {
    sun.src = 'https://mdn.mozillademos.org/files/1456/Canvas_sun.png';
    moon.src = 'https://mdn.mozillademos.org/files/1443/Canvas_moon.png';
    earth.src = 'https://mdn.mozillademos.org/files/1429/Canvas_earth.png';
    window.requestAnimationFrame(draw);
  }

  function draw() {
    var ctx = document.getElementById('canvas').getContext('2d');

    ctx.globalCompositeOperation = 'destination-over';
    ctx.fillStyle = 'rgba(0,0,0,0.4)';
    ctx.strokeStyle = 'rgba(0,153,255,0.4)';
    ctx.translate(150, 150);
    ctx.rotate((Math.PI / 180) * 90);
    ctx.save();
    ctx.fillRect(0, 0, 100, 24); // Shadow
    ctx.restore();
    ctx.fillRect(0, 0, 24, 48); // Shadow
    // window.requestAnimationFrame(draw);
  }

  init();
</script>
